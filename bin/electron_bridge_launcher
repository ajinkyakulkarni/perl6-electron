#!/usr/bin/env perl6

use v6;

use lib 'lib';

use Atom::Electron;

my $app = Atom::Electron::App.instance;

my $win1 = Atom::Electron::BrowserWindow.new(:x(100), :y(100), :width(1024), :height(768));
#my $win2 = Atom::Electron::BrowserWindow.new(:width(800), :height(600), :dev_tools_enabled);

#$win1.load_url("http://www.google.com");
#$win2.load_url("http://www.github.com");

#my $t = $app.json-client.foo;
#say $t.perl;
#$app.destroy;
#exit 1;

$win1.on('minimize', sub {
  "Window minimized!".say;
});

$win1.on('maximize', sub {
  "Window maximized!".say;
});

$win1.on('devtools-closed', sub {
  "Dev tools closed!".say;
});

$app.event_loop;

prompt("Press any key to exit");
$app.destroy;